{"remainingRequest":"D:\\1\\egg-lottery-master\\node_modules\\babel-loader\\lib\\index.js!D:\\1\\egg-lottery-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\1\\egg-lottery-master\\src\\storage\\index.js","dependencies":[{"path":"D:\\1\\egg-lottery-master\\src\\storage\\index.js","mtime":1597672413000},{"path":"D:\\1\\egg-lottery-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670231408046},{"path":"D:\\1\\egg-lottery-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1670231408036},{"path":"D:\\1\\egg-lottery-master\\node_modules\\eslint-loader\\index.js","mtime":1670231433324}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIFNUT1JBR0VfS0VZID0gImxvdHRlcnkiOwpleHBvcnQgZGVmYXVsdCB7CiAgLy8g5a2Y5YKo5YC8CiAgc2V0SXRlbTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBtb2R1bGVfbmFtZSkgewogICAgaWYgKG1vZHVsZV9uYW1lKSB7CiAgICAgIHZhciB2YWwgPSB0aGlzLmdldEl0ZW0obW9kdWxlX25hbWUpOwogICAgICB2YWxba2V5XSA9IHZhbHVlOwogICAgICB0aGlzLnNldEl0ZW0obW9kdWxlX25hbWUsIHZhbCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgX3ZhbCA9IHRoaXMuZ2V0U3RvcmFnZSgpOwoKICAgICAgX3ZhbFtrZXldID0gdmFsdWU7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoX3ZhbCkpOwogICAgfQogIH0sCiAgLy8g6I635Y+W5p+Q5LiA5Liq5qih5Z2X5LiL6Z2i55qE5bGe5oCndXNlcuS4i+mdoueahHVzZXJOYW1lCiAgZ2V0SXRlbTogZnVuY3Rpb24gZ2V0SXRlbShrZXksIG1vZHVsZV9uYW1lKSB7CiAgICBpZiAobW9kdWxlX25hbWUpIHsKICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0SXRlbShtb2R1bGVfbmFtZSk7CiAgICAgIGlmICh2YWwpIHJldHVybiB2YWxba2V5XTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5nZXRTdG9yYWdlKClba2V5XTsKICB9LAogIGdldFN0b3JhZ2U6IGZ1bmN0aW9uIGdldFN0b3JhZ2UoKSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpIHx8ICJ7fSIpOwogIH0sCiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGtleSwgbW9kdWxlX25hbWUpIHsKICAgIHZhciBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlKCk7CgogICAgaWYgKG1vZHVsZV9uYW1lKSB7CiAgICAgIGlmICghc3RvcmFnZVttb2R1bGVfbmFtZV0pIHJldHVybjsKICAgICAgZGVsZXRlIHN0b3JhZ2VbbW9kdWxlX25hbWVdW2tleV07CiAgICB9IGVsc2UgewogICAgICBkZWxldGUgc3RvcmFnZVtrZXldOwogICAgfQoKICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoc3RvcmFnZSkpOwogIH0KfTs="},{"version":3,"sources":["D:/1/egg-lottery-master/src/storage/index.js"],"names":["STORAGE_KEY","setItem","key","value","module_name","val","getItem","getStorage","window","localStorage","JSON","stringify","parse","clear","storage"],"mappings":"AAAA,IAAMA,WAAW,GAAG,SAApB;AACA,eAAe;AACb;AACAC,EAAAA,OAFa,mBAELC,GAFK,EAEAC,KAFA,EAEOC,WAFP,EAEoB;AAC/B,QAAIA,WAAJ,EAAiB;AACf,UAAIC,GAAG,GAAG,KAAKC,OAAL,CAAaF,WAAb,CAAV;AACAC,MAAAA,GAAG,CAACH,GAAD,CAAH,GAAWC,KAAX;AACA,WAAKF,OAAL,CAAaG,WAAb,EAA0BC,GAA1B;AACD,KAJD,MAIO;AACL,UAAIA,IAAG,GAAG,KAAKE,UAAL,EAAV;;AACAF,MAAAA,IAAG,CAACH,GAAD,CAAH,GAAWC,KAAX;AACAK,MAAAA,MAAM,CAACC,YAAP,CAAoBR,OAApB,CAA4BD,WAA5B,EAAyCU,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAzC;AACD;AACF,GAZY;AAab;AACAC,EAAAA,OAda,mBAcLJ,GAdK,EAcAE,WAdA,EAca;AACxB,QAAIA,WAAJ,EAAiB;AACf,UAAIC,GAAG,GAAG,KAAKC,OAAL,CAAaF,WAAb,CAAV;AACA,UAAIC,GAAJ,EAAS,OAAOA,GAAG,CAACH,GAAD,CAAV;AACV;;AACD,WAAO,KAAKK,UAAL,GAAkBL,GAAlB,CAAP;AACD,GApBY;AAqBbK,EAAAA,UArBa,wBAqBA;AACX,WAAOG,IAAI,CAACE,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBH,OAApB,CAA4BN,WAA5B,KAA4C,IAAvD,CAAP;AACD,GAvBY;AAwBba,EAAAA,KAxBa,iBAwBPX,GAxBO,EAwBFE,WAxBE,EAwBW;AACtB,QAAIU,OAAO,GAAG,KAAKP,UAAL,EAAd;;AACA,QAAIH,WAAJ,EAAiB;AACf,UAAI,CAACU,OAAO,CAACV,WAAD,CAAZ,EAA2B;AAC3B,aAAOU,OAAO,CAACV,WAAD,CAAP,CAAqBF,GAArB,CAAP;AACD,KAHD,MAGO;AACL,aAAOY,OAAO,CAACZ,GAAD,CAAd;AACD;;AACDM,IAAAA,MAAM,CAACC,YAAP,CAAoBR,OAApB,CAA4BD,WAA5B,EAAyCU,IAAI,CAACC,SAAL,CAAeG,OAAf,CAAzC;AACD;AAjCY,CAAf","sourcesContent":["const STORAGE_KEY = \"lottery\";\nexport default {\n  // 存储值\n  setItem(key, value, module_name) {\n    if (module_name) {\n      let val = this.getItem(module_name);\n      val[key] = value;\n      this.setItem(module_name, val);\n    } else {\n      let val = this.getStorage();\n      val[key] = value;\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(val));\n    }\n  },\n  // 获取某一个模块下面的属性user下面的userName\n  getItem(key, module_name) {\n    if (module_name) {\n      let val = this.getItem(module_name);\n      if (val) return val[key];\n    }\n    return this.getStorage()[key];\n  },\n  getStorage() {\n    return JSON.parse(window.localStorage.getItem(STORAGE_KEY) || \"{}\");\n  },\n  clear(key, module_name) {\n    let storage = this.getStorage();\n    if (module_name) {\n      if (!storage[module_name]) return;\n      delete storage[module_name][key];\n    } else {\n      delete storage[key];\n    }\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n  }\n};\n"]}]}